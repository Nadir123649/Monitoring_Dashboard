<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./tailwind.config.js" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="path/to/line-awesome/css/line-awesome-font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/react-day-picker@8.7.3/dist/style.css"
    />
    <link rel="stylesheet" href="./assets/css/main.css" />
    <title>Service Monitoring Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
  </head>

  <body class="h-screen overflow-hidden font-sans">
    <div class="flex h-screen overflow-hidden">
      <!-- Overlay for Mobile -->
      <div
        id="overlay"
        class="hidden fixed inset-0 bg-black bg-opacity-50 z-20"
        onclick="closeMobileMenu()"
      ></div>

      <div
        id="sidebar"
        class="bg-white border-r border-gray-200 shadow-sm w-[250px] transition-all duration-300 flex flex-col"
      >
        <div
          class="sidebar-top flex items-center justify-between p-4 border-b border-gray-200"
        >
          <div class="flex items-center gap-2">
            <i class="fa-regular fa-circle-user text-[#2563EB] text-xl"></i>
            <span class="font-bold text-gray-800 sidebar-label">IDBox™</span>
          </div>
          <button
            onclick="toggleCollapse()"
            class="p-1 rounded-full hover:bg-gray-100"
          >
            <svg
              id="collapseIcon"
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 text-gray-500"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              />
            </svg>
          </button>
        </div>
        <nav class="flex-1 overflow-y-auto py-4 px-3">
          <a
            href="#"
            title="Dashboard"
            class="flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 transition bg-gray-200 font-semibold sidebar-item active"
          >
            <i class="fa-solid fa-chart-column text-[#2563EB]"></i>
            <span class="text-[#2563EB] sidebar-label">Dashboard</span>
          </a>
          <div class="relative">
            <button
              onclick="toggleDropdown('monitoring')"
              title="Service Monitoring"
              class="flex items-center gap-2 text-gray-700 sidebar-item px-3 py-2 rounded hover:bg-gray-100 transition w-full flex justify-between"
            >
              <span class="flex items-center gap-2">
                <i class="fa-regular fa-file"></i>
                <span class="sidebar-label">Service Monitoring</span>
              </span>
              <svg
                id="dropdownIcon-monitoring"
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 transform transition-transform"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 11.292l3.71-4.06a.75.75 0 111.08 1.04l-4.25 4.65a.75.75 0 01-1.08 0l-4.25-4.65a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
            <div id="dropdown-monitoring" class="ml-2 mt-1 space-y-1 hidden">
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-chart-line"></i>
                <span> Overall Success </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
                ><i class="fa-regular fa-user"></i>
                <span> Abandoned by Customer </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-circle-xmark"></i>
                <span> Verification Failure</span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-database"></i>
                <span> ID Breakdown </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-regular fa-file"></i>
                <span> Document Breakdown </span></a
              >
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-regular fa-clock"></i>
                <span> Video Call Waiting </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-regular fa-clock"></i>
                <span> Verification Time </span></a
              >
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-chart-line"></i>
                <span> Average Response </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-globe"></i>
                <span> Country Distribution </span></a
              >
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-mobile-screen"></i>
                <span> Mobile Devices </span>
              </a>
              <a
                href="#"
                class="flex items-center gap-2 text-sm text-gray-600 px-3 py-1 hover:bg-gray-100 rounded"
              >
                <i class="fa-solid fa-chart-line"></i>
                <span> Detailed Transactions </span>
              </a>
            </div>
          </div>
          <a
            href="#"
            title="Success Rate"
            class="flex items-center gap-2 text-gray-700 sidebar-item px-3 py-2 rounded hover:bg-gray-100 transition"
          >
            <i class="fa-solid fa-chart-column"></i>
            <span class="sidebar-label">Success Rate</span>
          </a>
          <a
            href="#"
            title="Transactions"
            class="flex items-center gap-2 text-gray-700 sidebar-item px-3 py-2 rounded hover:bg-gray-100 transition"
          >
            <i class="fa-regular fa-file"></i>
            <span class="sidebar-label">Transactions</span>
          </a>
          <a
            href="#"
            title="Settings"
            class="flex items-center gap-2 text-gray-700 sidebar-item px-3 py-2 rounded hover:bg-gray-100 transition"
          >
            <i class="fa-solid fa-gear"></i>
            <span class="sidebar-label">Settings</span>
          </a>
          <a
            href="#"
            title="Logout"
            class="flex items-center gap-2 text-gray-700 sidebar-item px-3 py-2 rounded hover:bg-gray-100 transition text-red-500 hover:bg-red-100 mt-4"
          >
            <i class="fa-solid fa-right-from-bracket"></i>
            <span class="sidebar-label">Logout</span>
          </a>
        </nav>
      </div>

      <!-- Main content -->
      <div class="flex-1 flex flex-col h-full overflow-hidden">
        <!-- Mobile Header -->
        <header
          class="md:hidden bg-white border-b py-3 px-4 flex items-center justify-between"
        >
          <div class="flex items-center gap-2">
            <svg
              class="h-6 w-6 text-blue-600"
              fill="none"
              stroke="currentColor"
            >
              <circle cx="12" cy="12" r="10" stroke-width="2" />
            </svg>
            <span class="font-semibold text-gray-800">IDBox™</span>
          </div>
          <button
            onclick="openMobileMenu()"
            class="p-1 rounded hover:bg-gray-100"
          >
            <svg
              class="h-6 w-6 text-gray-700"
              fill="none"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
        </header>

        <main class="flex-1 overflow-y-auto bg-gray-50 p-[24px]">
          <div>
            <div
              class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4"
            >
              <div>
                <h1 class="text-2xl font-bold">Service Monitoring</h1>
                <p class="text-gray-500">
                  Dashboard overview of service performance
                </p>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-medium">Define Time Period:</span>
                <button
                  id="from-date-button"
                  class="border p-2 rounded text-sm flex items-center gap-2 bg-white"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 7V3M16 7V3M3 11h18M5 19h14a2 2 0 002-2V7H3v10a2 2 0 002 2z"
                    />
                  </svg>
                  <span id="from-date-label">From</span>
                </button>
                <button
                  id="to-date-button"
                  class="border p-2 rounded text-sm flex items-center gap-2 bg-white"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 7V3M16 7V3M3 11h18M5 19h14a2 2 0 002-2V7H3v10a2 2 0 002 2z"
                    />
                  </svg>
                  <span id="to-date-label">To</span>
                </button>
              </div>
            </div>

            <!-- Metric Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
              <!-- Completion Rate Card -->
              <div
                class="border-l-4 border-l-green-500 p-5 flex flex-col min-h-[140px] bg-white rounded-xl shadow-sm"
              >
                <div class="flex-1">
                  <h3 class="text-gray-500 text-sm font-medium">
                    Completion Rate
                  </h3>
                  <div class="mt-2 flex items-baseline gap-2">
                    <div class="text-sm font-medium text-[#020817] font-normal">
                      71.6% + 24%
                    </div>
                  </div>
                </div>
                <div class="mt-3 pt-3 border-t border-gray-100">
                  <div
                    class="bg-gray-50 -mx-5 -mb-5 mt-2 p-3 flex justify-between items-center"
                  >
                    <span class="text-xs text-gray-500">Avg. Rate</span>
                    <div
                      class="bg-green-100 h-2 w-3/4 rounded-full overflow-hidden"
                    >
                      <div class="bg-green-500 h-full" style="width: 72%"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Onboarding Time Card -->
              <div
                class="border-l-4 border-l-blue-500 p-5 flex flex-col min-h-[140px] bg-white rounded-xl shadow-sm"
              >
                <div class="flex-1">
                  <h3 class="text-gray-500 text-sm font-medium">
                    Average Onboarding Time
                  </h3>
                  <div class="mt-2 flex items-baseline gap-2">
                    <div class="text-sm font-medium text-[#020817] font-normal">
                      35 sec +8%
                    </div>
                  </div>
                </div>
                <div class="mt-3 pt-3 border-t border-gray-100">
                  <div
                    class="bg-gray-50 -mx-5 -mb-5 mt-2 p-3 flex justify-between items-center"
                  >
                    <span class="text-xs text-gray-500">Avg. Rate</span>
                    <div
                      class="bg-blue-100 h-2 w-3/4 rounded-full overflow-hidden"
                    >
                      <div class="bg-blue-500 h-full" style="width: 35%"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- SLA Compliance Card -->
              <div
                class="border-l-4 border-l-yellow-500 p-5 flex flex-col min-h-[140px] bg-white rounded-xl shadow-sm"
              >
                <div class="flex-1">
                  <h3 class="text-gray-500 text-sm font-medium">
                    Response Time vs SLA
                  </h3>
                  <div class="mt-2 flex items-baseline gap-2">
                    <div class="text-sm font-medium text-[#020817] font-normal">
                      55%
                    </div>
                  </div>
                  <p class="mt-2 text-[#020817]">Target: 85% within SLA</p>
                </div>
                <div class="mt-3 pt-3 border-t border-gray-100">
                  <div
                    class="bg-gray-50 -mx-5 -mb-5 mt-2 p-3 flex justify-between items-center"
                  >
                    <span class="text-xs text-gray-500 mr-2"
                      >SLA Compliance</span
                    >
                    <div
                      class="bg-yellow-100 h-2 w-3/4 rounded-full overflow-hidden"
                    >
                      <div
                        class="bg-yellow-500 h-full"
                        style="width: 55%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
              <!-- Chart Container -->
              <div
                class="chart-container w-full p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300 bg-white"
              >
                <div id="chart" class="mt-[-30px] h-[400px] w-full"></div>
                <div class="custom-legend" id="legend"></div>
              </div>

              <!-- Bar Chart Card -->
              <div
                class="bg-white rounded-xl flex justify-center items-center p-6 shadow-sm hover:shadow-md transition-shadow duration-300 min-h-[350px] w-full mx-auto"
              >
                <div id="barChartContainer" class="w-full h-[320px]"></div>
              </div>
            </div>

            <div
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"
            >
              <!-- Card 1 -->
              <a
                href="/success-rate"
                class="flex-card flex flex-col items-center justify-center p-6 gap-3 bg-white rounded-lg shadow border border-gray-100 hover:border-blue-500/50 transition-colors"
              >
                <div class="bg-blue-500/10 p-3 rounded-full">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-chart-no-axes-column h-6 w-6 text-primary h-6 w-6 text-blue-500"
                    data-lov-id="src\pages\Index.tsx:104:14"
                    data-lov-name="BarChart2"
                    data-component-path="src\pages\Index.tsx"
                    data-component-line="104"
                    data-component-file="Index.tsx"
                    data-component-name="BarChart2"
                    data-component-content="%7B%22className%22%3A%22h-6%20w-6%20text-primary%22%7D"
                  >
                    <line x1="18" x2="18" y1="20" y2="10"></line>
                    <line x1="12" x2="12" y1="20" y2="4"></line>
                    <line x1="6" x2="6" y1="20" y2="14"></line>
                  </svg>
                </div>
                <span class="font-medium text-gray-800">Success Rate</span>
              </a>

              <!-- Card 2 -->
              <a
                href="/transactions"
                class="flex-card flex flex-col items-center justify-center p-6 gap-3 bg-white rounded-lg shadow border border-gray-100 hover:border-blue-500/50 transition-colors"
              >
                <div class="bg-blue-500/10 p-3 rounded-full">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-file-text h-6 w-6 text-blue-500"
                    data-lov-id="src\pages\Index.tsx:111:14"
                    data-lov-name="FileText"
                    data-component-path="src\pages\Index.tsx"
                    data-component-line="111"
                    data-component-file="Index.tsx"
                    data-component-name="FileText"
                    data-component-content="%7B%22className%22%3A%22h-6%20w-6%20text-primary%22%7D"
                  >
                    <path
                      d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                    ></path>
                    <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                    <path d="M10 9H8"></path>
                    <path d="M16 13H8"></path>
                    <path d="M16 17H8"></path>
                  </svg>
                </div>
                <span class="font-medium text-gray-800">Transactions</span>
              </a>

              <!-- Card 3 - Coming Soon -->
              <div
                class="flex flex-col items-center justify-center p-6 gap-3 bg-white rounded-lg shadow border border-gray-100"
              >
                <div class="bg-gray-100 p-3 rounded-full">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-chart-no-axes-column h-6 w-6 text-primary h-6 w-6 text-gray-400"
                    data-lov-id="src\pages\Index.tsx:104:14"
                    data-lov-name="BarChart2"
                    data-component-path="src\pages\Index.tsx"
                    data-component-line="104"
                    data-component-file="Index.tsx"
                    data-component-name="BarChart2"
                    data-component-content="%7B%22className%22%3A%22h-6%20w-6%20text-primary%22%7D"
                  >
                    <line x1="18" x2="18" y1="20" y2="10"></line>
                    <line x1="12" x2="12" y1="20" y2="4"></line>
                    <line x1="6" x2="6" y1="20" y2="14"></line>
                  </svg>
                </div>
                <span class="font-medium text-gray-400">ID Breakdown</span>
                <span class="text-xs text-gray-400">Coming Soon</span>
              </div>

              <!-- Card 4 - Coming Soon -->
              <div
                class="flex flex-col items-center justify-center p-6 gap-3 bg-white rounded-lg shadow border border-gray-100"
              >
                <div class="bg-gray-100 p-3 rounded-full">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-file-text h-6 w-6 text-gray-400"
                    data-lov-id="src\pages\Index.tsx:111:14"
                    data-lov-name="FileText"
                    data-component-path="src\pages\Index.tsx"
                    data-component-line="111"
                    data-component-file="Index.tsx"
                    data-component-name="FileText"
                    data-component-content="%7B%22className%22%3A%22h-6%20w-6%20text-primary%22%7D"
                  >
                    <path
                      d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                    ></path>
                    <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                    <path d="M10 9H8"></path>
                    <path d="M16 13H8"></path>
                    <path d="M16 17H8"></path>
                  </svg>
                </div>
                <span class="font-medium text-gray-400"
                  >Device Distribution</span
                >
                <span class="text-xs text-gray-400">Coming Soon</span>
              </div>
            </div>
          </div>
        </main>

        <!-- Footer -->
        <footer class="footer bg-white border-t border-gray-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <i class="fa-regular fa-circle-user text-[#2563EB] text-xl"></i>
              <span class="text-sm font-semibold"
                >IDBox™ Service Monitoring</span
              >
              <span class="text-xs text-gray-500 leading-normal">v.2.1</span>
            </div>
            <div class="text-sm text-gray-500">
              © <span id="year"></span> Intelli Group All rights reserved
            </div>
          </div>
        </footer>
      </div>
    </div>

    <script>
      function openMobileMenu() {
        document
          .getElementById("sidebar")
          .classList.add("fixed", "left-0", "top-0");
        document.getElementById("overlay").classList.remove("hidden");
      }

      function closeMobileMenu() {
        document.getElementById("sidebar").classList.remove("fixed");
        document.getElementById("overlay").classList.add("hidden");
      }

      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <script>
      let collapsed = false;
      let dropdownOpen = {};

      function toggleCollapse() {
        const sidebar = document.getElementById("sidebar");
        const icon = document.getElementById("collapseIcon");
        const labels = document.querySelectorAll(".sidebar-label");

        collapsed = !collapsed;

        // toggle width
        sidebar.classList.toggle("w-[250px]");
        sidebar.classList.toggle("w-[70px]");

        // toggle text label visibility
        labels.forEach((label) => {
          if (collapsed) {
            label.classList.add("hidden");
          } else {
            label.classList.remove("hidden");
          }
        });

        // rotate icon
        if (icon) icon.classList.toggle("rotate-180");
      }

      function toggleDropdown(name) {
        const dropdown = document.getElementById("dropdown-" + name);
        const icon = document.getElementById("dropdownIcon-" + name);
        if (dropdown.classList.contains("hidden")) {
          dropdown.classList.remove("hidden");
          icon.classList.add("rotate-180");
        } else {
          dropdown.classList.add("hidden");
          icon.classList.remove("rotate-180");
        }
      }
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        Highcharts.chart("pie-chart", {
          chart: {
            type: "pie",
            options3d: {
              enabled: true,
              alpha: 35,
              beta: 0,
            },
          },
          title: {
            text: "Verification Stats",
          },
          plotOptions: {
            pie: {
              innerSize: 100,
              depth: 45,
            },
          },
          series: [
            {
              name: "Count",
              data: [
                ["Verification Success", 72],
                ["Abandoned by Customer", 16],
                ["Verification Failure", 11],
                ["Not Started", 1],
              ],
            },
          ],
        });

        Highcharts.chart("bar-chart", {
          chart: {
            type: "bar",
            options3d: {
              enabled: true,
              alpha: 15,
              beta: 15,
              depth: 40,
            },
          },
          title: {
            text: "Response Time Distribution",
          },
          xAxis: {
            categories: [
              "0-5 min",
              "5-6 min",
              "6-7 min",
              "7-10 min",
              "10+ min",
            ],
          },
          yAxis: {
            min: 0,
            max: 100,
            title: null,
          },
          series: [
            {
              name: "Percentage",
              data: [84.47, 7.23, 3.25, 3.55, 1.5],
            },
          ],
        });
      });
    </script>
    <script>
      const data = [
        {
          name: "Verification Success",
          value: 72,
          gradient: ["#2196F3", "#1E88E5"],
        },
        {
          name: "Abandoned by Customer",
          value: 16,
          gradient: ["#AB47BC", "#8E24AA"],
        },
        {
          name: "Verification Failure",
          value: 11,
          gradient: ["#00BFA5", "#1DE9B6"],
        },
        {
          name: "Not Started",
          value: 1,
          gradient: ["#FB8C00", "#FFB74D"],
        },
      ];

      const total = data.reduce((sum, d) => sum + d.value, 0);

      Highcharts.chart("chart", {
        chart: {
          type: "pie",
          backgroundColor: "transparent",
          height: 430,
          options3d: {
            enabled: true,
            alpha: 45,
            beta: 0,
          },
        },
        title: {
          text: `
        <div style="text-align:center;">
          <div style="font-size:48px; font-weight:900; color:#111;">${total}</div>
          <div style="font-size:11px; letter-spacing:4px; font-weight:700; text-transform:uppercase; color:#444;">Total Data Points</div>
        </div>
      `,
          align: "center",
          verticalAlign: "middle",
          floating: true,
          useHTML: true,
        },
        plotOptions: {
          pie: {
            innerSize: "65%",
            depth: 45,
            dataLabels: {
              enabled: true,
              format: "{point.percentage:.0f}%",
              style: {
                fontSize: "14px",
                fontWeight: "bold",
                color: "#111",
                textOutline: "none",
              },
              distance: -30,
            },
          },
        },
        tooltip: {
          useHTML: true,
          backgroundColor: "#ffffff",
          borderWidth: 0,
          borderRadius: 14,
          style: {
            fontFamily: "JetBrains Mono",
            fontSize: "13px",
            color: "#111",
            fontWeight: "600",
          },
          formatter: function () {
            return `
          <div style="padding: 14px 20px;">
            <div style="font-weight:900; font-size:14px; margin-bottom:6px; text-transform:uppercase; color:#000;">${
              this.point.name
            }</div>
            <div style="color:#333;">Value: <strong>${this.y}</strong></div>
            <div style="color:#333;">Share: <strong>${this.percentage.toFixed(
              1
            )}%</strong></div>
          </div>
        `;
          },
        },
        series: [
          {
            name: "Data",
            data: data.map((d) => ({
              name: d.name,
              y: d.value,
              color: {
                linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },
                stops: [
                  [0, d.gradient[0]],
                  [1, d.gradient[1]],
                ],
              },
            })),
          },
        ],
        credits: { enabled: false },
        legend: { enabled: false },
      });

      // Custom Legend
      const legendEl = document.getElementById("legend");
      data.forEach((d, i) => {
        const item = document.createElement("div");
        item.className = "legend-item";
        const dot = document.createElement("div");
        dot.className = "legend-dot";
        dot.style.background = d.gradient[1];
        item.appendChild(dot);
        item.innerHTML += `<span>${d.name}</span>`;
        legendEl.appendChild(item);
      });
    </script>
    <script>
      const responseRates = [
        { name: "Between 0 And 5 Minutes", value: 84.47, color: "#2196F3" },
        { name: "Between 5 And 6 Minutes", value: 7.23, color: "#4CAF50" },
        { name: "Between 6 And 7 Minutes", value: 3.25, color: "#FF9800" },
        { name: "Between 7 And 10 Minutes", value: 3.55, color: "#FF9800" },
        { name: "More than 10 Minutes", value: 1.5, color: "#F44336" },
      ];

      Highcharts.chart("barChartContainer", {
        chart: {
          type: "bar",
          options3d: {
            enabled: true,
            alpha: 15,
            beta: 15,
            depth: 50,
            viewDistance: 25,
          },
          backgroundColor: "transparent",
          style: {
            fontFamily: "Inter, sans-serif",
          },
          animation: {
            duration: 1000,
          },
        },
        title: {
          text: "Response Time Distribution",
          align: "left",
          style: {
            fontSize: "18px",
            fontWeight: "600",
            color: "#1e293b",
          },
          margin: 24,
        },
        credits: {
          enabled: false,
        },
        xAxis: {
          categories: responseRates.map((d) => d.name),
          labels: {
            style: {
              fontSize: "13px",
              color: "#64748b",
              fontWeight: "500",
            },
            useHTML: true,
            formatter: function () {
              return `<span style="max-width: 100px; display: inline-block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${this.value}</span>`;
            },
          },
          gridLineWidth: 0,
          lineColor: "#e2e8f0",
          tickLength: 0,
        },
        yAxis: {
          min: 0,
          max: 100,
          title: { text: null },
          labels: {
            style: {
              fontSize: "13px",
              color: "#64748b",
              fontWeight: "500",
            },
            formatter: function () {
              return this.value + "%";
            },
          },
          gridLineWidth: 1,
          gridLineColor: "#e2e8f0",
          lineColor: "#e2e8f0",
          tickLength: 0,
        },
        legend: {
          enabled: false,
        },
        plotOptions: {
          bar: {
            depth: 40,
            groupZPadding: 10,
            grouping: false,
            borderRadius: 4,
            states: {
              hover: {
                brightness: 0.1,
              },
            },
            dataLabels: {
              enabled: true,
              format: "{y:.1f}%",
              style: {
                fontSize: "12px",
                fontWeight: "500",
                color: "#1e293b",
                textOutline: "none",
              },
              align: "center",
              verticalAlign: "top",
              y: -10,
            },
          },
        },
        tooltip: {
          backgroundColor: "rgba(255, 255, 255, 0.95)",
          borderWidth: 0,
          borderRadius: 8,
          shadow: true,
          style: {
            fontSize: "14px",
            color: "#1e293b",
          },
          formatter: function () {
            return `<b>${this.x}</b><br/>${this.y.toFixed(1)}%`;
          },
        },
        series: [
          {
            name: "Response Time",
            data: responseRates.map((d) => ({
              y: d.value,
              color: d.color,
              selected: false,
            })),
            animation: {
              duration: 1000,
            },
          },
        ],
      });
    </script>
    <script
      src="https://kit.fontawesome.com/ce278ed6db.js"
      crossorigin="anonymous"
    ></script>
    <script src="/assets/js/main.js"></script>
  </body>
</html>
